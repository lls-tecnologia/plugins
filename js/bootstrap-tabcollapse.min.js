!function(b){var a=function(d,c){this.options=c;this.$tabs=b(d);this._accordionVisible=false;this._initAccordion();this._checkStateOnResize();var e=this;setTimeout(function(){e.checkState()},0)};a.DEFAULTS={accordionClass:"visible-xs",tabsClass:"hidden-xs",accordionTemplate:function(e,c,f,d){return'<div class="panel panel-default">   <div class="panel-heading">      <h4 class="panel-title">      </h4>   </div>   <div id="'+c+'" class="panel-collapse collapse '+(d?"in":"")+'">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'}};a.prototype.checkState=function(){if(this.$tabs.is(":visible")&&this._accordionVisible){this.showTabs();this._accordionVisible=false}else{if(this.$accordion.is(":visible")&&!this._accordionVisible){this.showAccordion();this._accordionVisible=true}}};a.prototype.showTabs=function(){var d=this;this.$tabs.trigger(b.Event("show-tabs.bs.tabcollapse"));var e=this.$accordion.find(".js-tabcollapse-panel-heading").detach();e.each(function(){var g=b(this),i=g.data("bs.tabcollapse.parentLi");var h=d._panelHeadingToTabHeading(g);i.removeClass("active");if(i.parent().hasClass("dropdown-menu")&&!i.siblings("li").hasClass("active")){i.parent().parent().removeClass("active")}if(!h.hasClass("collapsed")){i.addClass("active");if(i.parent().hasClass("dropdown-menu")){i.parent().parent().addClass("active")}}else{h.removeClass("collapsed")}i.append(g)});if(!b("li").hasClass("active")){b("li").first().addClass("active")}var c=this.$accordion.find(".js-tabcollapse-panel-body");c.each(function(){var h=b(this),g=h.data("bs.tabcollapse.tabpane");g.append(h.contents().detach())});this.$accordion.html("");if(this.options.updateLinks){var f=this.getTabContentElement();f.find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each(function(){var h=b(this);var g=h.attr("href").replace(/-collapse$/g,"");h.attr({"data-toggle":h.attr("data-toggle-was"),"data-toggle-was":"","data-parent":"",href:g})})}this.$tabs.trigger(b.Event("shown-tabs.bs.tabcollapse"))};a.prototype.getTabContentElement=function(){var c=b(this.options.tabContentSelector);if(c.length===0){c=this.$tabs.siblings(".tab-content")}return c};a.prototype.showAccordion=function(){this.$tabs.trigger(b.Event("show-accordion.bs.tabcollapse"));var d=this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),c=this;d.each(function(){var g=b(this),h=g.parent();g.data("bs.tabcollapse.parentLi",h);c.$accordion.append(c._createAccordionGroup(c.$accordion.attr("id"),g.detach()))});if(this.options.updateLinks){var f=this.$accordion.attr("id");var e=this.$accordion.find(".js-tabcollapse-panel-body");e.find('[data-toggle="tab"], [data-toggle="pill"]').each(function(){var h=b(this);var g=h.attr("href")+"-collapse";h.attr({"data-toggle-was":h.attr("data-toggle"),"data-toggle":"collapse","data-parent":"#"+f,href:g})})}this.$tabs.trigger(b.Event("shown-accordion.bs.tabcollapse"))};a.prototype._panelHeadingToTabHeading=function(d){var c=d.attr("href").replace(/-collapse$/g,"");d.attr({"data-toggle":"tab",href:c,"data-parent":""});return d};a.prototype._tabHeadingToPanelHeading=function(d,c,f,e){d.addClass("js-tabcollapse-panel-heading "+(e?"":"collapsed"));d.attr({"data-toggle":"collapse","data-parent":"#"+f,href:"#"+c});return d};a.prototype._checkStateOnResize=function(){var c=this;b(window).resize(function(){clearTimeout(c._resizeTimeout);c._resizeTimeout=setTimeout(function(){c.checkState()},100)})};a.prototype._initAccordion=function(){var d=function(){var f="",g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var h=0;h<5;h++){f+=g.charAt(Math.floor(Math.random()*g.length))}return f};var e=this.$tabs.attr("id"),c=(e?e:d())+"-accordion";this.$accordion=b('<div class="panel-group '+this.options.accordionClass+'" id="'+c+'"></div>');this.$tabs.after(this.$accordion);this.$tabs.addClass(this.options.tabsClass);this.getTabContentElement().addClass(this.options.tabsClass)};a.prototype._createAccordionGroup=function(i,f){var e=f.attr("data-target"),g=f.data("bs.tabcollapse.parentLi").is(".active");if(!e){e=f.attr("href");e=e&&e.replace(/.*(?=#[^\s]*$)/,"")}var c=b(e),d=c.attr("id")+"-collapse",h=b(this.options.accordionTemplate(f,d,i,g));h.find(".panel-heading > .panel-title").append(this._tabHeadingToPanelHeading(f,d,i,g));h.find(".panel-body").append(c.contents().detach()).data("bs.tabcollapse.tabpane",c);return h};b.fn.tabCollapse=function(c){return this.each(function(){var f=b(this);var e=f.data("bs.tabcollapse");var d=b.extend({},a.DEFAULTS,f.data(),typeof c==="object"&&c);if(!e){f.data("bs.tabcollapse",new a(this,d))}})};b.fn.tabCollapse.Constructor=a}(window.jQuery);